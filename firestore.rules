rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Reports Collection
    match /reports/{reportId} {
      
      // ANY authenticated user can read all reports.
      // This is necessary for the main map view and community dashboard.
      allow read: if true;

      // ANY authenticated user can create a report.
      // In a real app, you would check `request.auth.uid != null`.
      allow create: if true;

      // ANY authenticated user can update a report.
      // In a real app, you'd check if request.auth.uid is an admin.
      allow update: if true;
      
      // No one can delete reports for now.
      allow delete: if false;
    }
  }
}
